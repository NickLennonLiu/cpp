### PA1a 1-2 Graphics 解题报告

计95	刘玉河	2019011560

#### 数据结构与算法

###### 记录线段

分别将横坐标和纵坐标排序，得到$lx[i]\ \ (ly[i])$ 即为第i条线段与x轴(y轴)交点的横坐标(纵坐标)

###### 判断点与原点连线是否与线段相交

由于线段位于第一象限，所以连线与线段相交当且仅当点位于线段的右侧

选取线段的一个端点X（与x轴交点），以其为起点，构造两个向量
$$
\vec{v_1} = \overline{XY} 线段向量\\
\vec{v_2} = \overline{XP} 线段端点与线段外一点P的向量\\
P位于XY上或右侧\iff \vec{v_2}\times\vec{v_1} \ge 0 
$$

###### 与连线相交的线段个数

在[0,n)区间开始进行二分查找

- 如果直线mid与连线相交，则在[mid+1,hi)继续查找
- 如果不相交，则在[lo,mid)查找
- 当lo==hi时，对应的lo即为位于点左侧的最外侧线段的对应序号，也即与连线相交的线段个数

#### 遇到的问题与解决

1. 点的坐标利用int记录时，在计算叉乘的过程中两数的乘积会超出int的范围，导致计算错误

    解决方案：使用long long

#### 复杂度估算

###### 时间复杂度

排序（快排平均情况）：$O(n\log n)$

m次二分查找：$O(m\log n)$

总体复杂度（平均情况）：$O((m+n)\log n)$

###### 空间复杂度

$O(n)$存储n条线段的两个坐标信息



